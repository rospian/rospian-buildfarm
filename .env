# ----------------- CONFIG -----------------
# Environment configuration for ROS 2 Jazzy buildfarm on Debian Trixie (arm64)
# Sourced by scripts via .env.sh - defines paths, distributions, and build settings.
# Override any setting by creating .env.local in the base directory.

# Directories
BASE_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"
SCRIPT_DIR="$BASE_DIR"/scripts
ROS_SUBDIR="ros2"
WS="${WS:-$BASE_DIR/$ROS_SUBDIR}"

# Distribution & versions
APTREPO="/srv/aptrepo"
OS_NAME="${OS_NAME:-debian}"
OS_DIST="${OS_DIST:-trixie}"
ROS_DISTRO="${ROS_DISTRO:-jazzy}"
REPO_DIST="${REPO_DIST:-$OS_DIST-$ROS_DISTRO}"
ARCH=arm64

# Build
PARALLEL_JOBS="${PARALLEL_JOBS:-$(($(nproc) - 1))}"
SBUILD_CHROOT="${SBUILD_CHROOT:-trixie-arm64-sbuild}"
SBUILD_DIR="$WS/sbuild"
SBUILD_RESULTS="${SBUILD_RESULTS:-$WS}"

# Github gh-pages repo
PAGES_GIT_URL="${PAGES_GIT_URL:-git@github.com:rospian/rospian-repo.git}"
PAGES_GIT_BRANCH="gh-pages"
PAGES_DIR="/srv/aptrepo-pages"

# S3 Backup and restore
S3_PAGES_PREFIX="aptrepo-pages"
S3_CANONICAL_PREFIX="aptrepo"

# --- Create a .env.local in the base directory for the following ---

# S3 repo backup
# S3_BUCKET=""

# S3 keys backup
# S3_SECRETS_BUCKET=""
# S3_PREFIX_BUCKET="/"                  # include trailing slash
